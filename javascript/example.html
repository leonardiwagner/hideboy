<html>
  <head>
    <script src="whitewhale.js"></script>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>

    <script>
      function encrypt(){
        var text = document.getElementById("fldText").value;
        var key = document.getElementById("fldEncryptKey").value;
        var whiteWhale = new WhiteWhale(key);
        var encodedText = whiteWhale.encrypt(text);
        document.getElementById("fldTextEncrypted").value = encodedText;
      }

      function decrypt(){
        var text = document.getElementById("fldTextEncrypted").value;
        var key = document.getElementById("fldDecryptKey").value;
        var whiteWhale = new WhiteWhale(key);
        var encodedText = whiteWhale.decrypt(text);
        document.getElementById("fldTextDecrypted").value = encodedText;
      }


    </script>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-1 col-md-3"></div>
        <div class="col-xs-10 col-md-6" style="text-align:center;">
          <div>
            <img src="logo.jpg">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-1 col-md-3"></div>
        <div class="col-xs-10 col-md-6">
          <ul class="nav nav-tabs nav-justified" role="tablist">
            <li id="liEncrypt"><a href="#">Encrypt</a></li>
            <li id="liDecrypt"><a href="#">Decrypt</a></li>
          </ul>
          <section id="secEncrypt">
            <div class="input-form">
              <label for="exampleInputEmail1">Text to encrypt:</label>
              <textarea id="fldText" class="form-control" rows="3"></textarea>
            </div>

            <label for="exampleInputEmail1">Public-key:</label>
            <div class="input-group">
              <input type="text" class="form-control" maxlength="255">
              <span class="input-group-btn">
                <button class="btn btn-default" type="button">generate</button>
              </span>
            </div>

            <button type="button" class="btn btn-primary btn-lg btn-block">Encrypt Text</button>

            <div class="encryptedMessage" style="display:none;">
              <a name="encryptedDiv" />
              <div class="form-group">
                <label for="exampleInputEmail1">Encrypted text:</label>
                <textarea id="fldText" class="form-control" rows="3"></textarea>
              </div>
              <div class="alert alert-success" role="alert">Yeah! text was encrypted, we'll keep it as our secret</div>
            </div>

          </section>
          <section id="secDecrypt">
            <div class="form-group">
              <label for="exampleInputEmail1">Text to decrypt:</label>
              <textarea id="fldText" class="form-control" rows="3"></textarea>
            </div>

            <label for="exampleInputEmail1">Public-key:</label>
            <div class="input-group">
              <input type="text" class="form-control" maxlength="255">
              <span class="input-group-btn">
                <button class="btn btn-default" type="button">generate</button>
              </span>
            </div>

            <button type="button" class="btn btn-primary btn-lg btn-block">Decrypt Text</button>

            <div class="form-group">
              <label for="exampleInputEmail1">Decrypted text:</label>
              <textarea id="fldText" class="form-control" rows="3"></textarea>
            </div>

            <div class="alert alert-success" role="alert">Text decrypted, we hope that you used the right public-key</div>
          </section>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-1 col-md-3"></div>
        <div class="col-xs-10 col-md-6" style="text-align:center;">
           <a href="https://github.com/leonardiwagner/whitewhale" target="_blank">View the criptography source code on GitHub!</a>
        </div>
      </div>
      <script>
        //tabs navigation
        $(".nav-tabs a").click(function(){
          var showElement = "Encrypt";
          var hideElement = "Decrypt";

          var isEnc = $(this).parent().attr("id") == "liEncrypt" ? true : false;
          if(!isEnc){
            showElement = hideElement;
            hideElement = "Encrypt";
          }

          $("#li" + hideElement).removeClass("active");
          $("#sec" + hideElement).hide();
          $("#li" + showElement).addClass("active");
          $("#sec" + showElement).show();
        });

        $("#liEncrypt a").click();
      </script>
  
  </body>
</html>